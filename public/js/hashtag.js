(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/5I4":function(t,e,n){"use strict";n.r(e);var r=n("o0o1"),s=n.n(r),a=n("vDqi"),o=n.n(a),i=n("rZh2"),c=n("t7Eb");function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e,n,r,s,a,o){try{var i=t[a](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,s)}var f={components:{AppTitle:i.a,PostCardList:c.a},data:function(){return{hashtag:this.$route.params.hashtag,next:null,posts:[]}},computed:{loggedIn:function(){return this.$store.getters["auth/loggedIn"]}},watch:{$route:function(t,e){this.hashtag=t.params.hashtag,this.next=null,this.posts=[],this.fetchPost()}},created:function(){this.fetchPost()},methods:{fetchPost:function(){var t,e=this;return(t=s.a.mark((function t(){var n,r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={hashtag:e.hashtag},e.next&&(r.maxId=e.next),t.next=4,o.a.get("/api/posts",{params:r});case 4:a=t.sent,(n=e.posts).push.apply(n,l(a.data.posts)),e.next=a.data.next;case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,s){var a=t.apply(e,n);function o(t){h(a,r,s,o,i,"next",t)}function i(t){h(a,r,s,o,i,"throw",t)}o(void 0)}))})()},likePost:function(t){this.loggedIn?t.liking?o.a.delete("/api/post/".concat(t.id,"/unlike")).then((function(e){t.liking=!1})):o.a.post("/api/post/".concat(t.id,"/like")).then((function(e){t.liking=!0})):confirm("いいねするにはログインが必要です")&&this.$router.push("/login")},deletePost:function(t){var e=this;o.a.delete("/api/post/".concat(t.id),this.form).then((function(n){e.posts=e.posts.filter((function(e){return e.id!==t.id}))}))}}},p=n("KHd+"),d=Object(p.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-full flex justify-center items-center lg:p-6"},[n("div",{staticClass:"w-full max-w-lg"},[n("div",{staticClass:"flex items-center bg-gray-900 p-4 mb-2"},[n("router-link",{staticClass:"text-white mr-2",attrs:{to:"/"}},[n("font-awesome-icon",{staticClass:"mr-4",attrs:{icon:["fas","arrow-left"],size:"lg"}})],1),t._v(" "),n("div",[n("app-title",{staticClass:"text-white",attrs:{title:"#"+t.hashtag}})],1)],1),t._v(" "),n("post-card-list",{attrs:{posts:t.posts,next:!!t.next,"handle-fetch-post":t.fetchPost,"handle-like-post":t.likePost,"handle-delete-post":t.deletePost}})],1)])}),[],!1,null,null,null);e.default=d.exports}}]);