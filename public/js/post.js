(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{YITw:function(t,e,s){"use strict";s.r(e);var n=s("o0o1"),o=s.n(n),i=s("rZh2"),r=s("DIvk");function a(t,e,s,n,o,i,r){try{var a=t[i](r),c=a.value}catch(t){return void s(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function c(t){return function(){var e=this,s=arguments;return new Promise((function(n,o){var i=t.apply(e,s);function r(t){a(i,n,o,r,c,"next",t)}function c(t){a(i,n,o,r,c,"throw",t)}r(void 0)}))}}var u={components:{AppTitle:i.a,PostCard:r.a},data:function(){return{postId:this.$route.params.id,post:null}},watch:{$route:function(t,e){this.postId=t.params.id,this.post=this.fetchPost()}},created:function(){var t=this;return c(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchPost();case 2:t.post=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{fetchPost:function(){return this.$store.dispatch("post/fetchPost",{id:this.postId})},likePost:function(t){this.loggedIn?t.liking?axios.delete("/api/post/".concat(t.id,"/unlike")).then((function(e){t.liking=!1})):axios.post("/api/post/".concat(t.id,"/like")).then((function(e){t.liking=!0})):confirm("いいねするにはログインが必要です")&&this.$router.push("/login")},deletePost:function(t){var e=this;return c(o.a.mark((function s(){return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch("post/deletePost",t);case 2:e.$router.push("/");case 3:case"end":return s.stop()}}),s)})))()},checkoutPost:function(t){this.loggedIn||confirm("商品を購入するにはログインが必要です")&&this.$router.push("/login")}}},l=s("KHd+"),p=Object(l.a)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"h-full flex justify-center"},[s("div",{staticClass:"w-full"},[s("div",{staticClass:"flex items-center bg-gray-900 p-4 mb-2"},[s("router-link",{staticClass:"text-white mr-2",attrs:{to:"/"}},[s("font-awesome-icon",{staticClass:"mr-4",attrs:{icon:["fas","arrow-left"],size:"lg"}})],1),t._v(" "),s("div",[s("app-title",{staticClass:"text-white",attrs:{title:t.post.user.name+"の投稿"}})],1)],1),t._v(" "),t.post?s("post-card",{staticClass:"mb-2",attrs:{post:t.post,detail:!0,"handle-like-post":t.likePost,"handle-delete-post":t.deletePost,"handle-checkout-post":t.checkoutPost}}):t._e()],1)])}),[],!1,null,null,null);e.default=p.exports}}]);